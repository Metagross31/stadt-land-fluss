(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[12],{161:function(e,t,a){"use strict";a.d(t,"k",(function(){return s})),a.d(t,"j",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"m",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return E})),a.d(t,"h",(function(){return v})),a.d(t,"i",(function(){return y})),a.d(t,"l",(function(){return x})),a.d(t,"a",(function(){return w})),a.d(t,"b",(function(){return O})),a.d(t,"f",(function(){return C}));var n=a(22),r=a(162),l=a(169),o=a(181),c=a.n(o),i=a(63),u=a(43),s=function(e,t){if(e>t.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var a=[],n=Object(r.a)(t),l=function(e){var t=c()(n);a.push(t),n=n.filter((function(e){return e!==t}))},o=0;o<e;o++)l();return a},m=function(e){return Array.from(e).map((function(e){return e[1]})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},f=function(e){return Object(u.e)(e,{points:i.s,star:!1,text:"",valid:!0})},d=function(e){return e.map((function(e){return Object(n.a)({},e,{text:e.text.trim(),valid:!!e.text})}))},p=function(e,t){var a=new Map;return e.forEach((function(n){var r=[];t.forEach((function(t){var a=new Map;e.forEach((function(e){a.set(e.id,!0)})),r.push(a)})),a.set(n.id,r)})),a},h=function(e,t){if(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)for(var a=t.keys().next().value,n=t.get(a),r=0;r<n.length;r++)E(e,t,r)},E=function(e,t,a){(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)&&Array.from(t.keys()).forEach((function(n){var r=t.get(n);r[a].valid&&(e.onlyPlayerWithValidAnswer&&g(n,t,a)?r[a].points=i.n:e.checkForDuplicates&&b(n,t,a)?r[a].points=i.o:r[a].points=i.s)}))},g=function(e,t,a){var n=Array.from(t.keys()).filter((function(t){return t!==e})),r=!0;return n.forEach((function(e){return r=r&&!t.get(e)[a].valid})),r},b=function(e,t,a){var n=Array.from(t.keys()).filter((function(t){return t!==e})),r=t.get(e)[a].text.toLowerCase().replace(/[^0-9a-z]/gi,"");return Object(l.some)(n,(function(e){var n=t.get(e)[a];return n.valid&&r===n.text.toLowerCase().replace(/[^0-9a-z]/gi,"")}))},v=function(e){return e<=3?1:2},y=function(e){var t=0;return e.forEach((function(e){return t=e?t:t+1})),t},x=function(e,t){var a=new Map;return e.forEach((function(e,n){if(!e){var r=t.get(n);r&&a.set(n,r)}})),m(a)},w=function(e,t){t.forEach((function(t){t.forEach((function(t){t.valid?e.creativeAnswersExtraPoints&&t.star&&(t.points=t.points+i.d):t.points=0}))}))},O=function(e,t){var a=[],n={};return e.forEach((function(e,t){return n[t]={playerName:e.name,points:0}})),t.forEach((function(e){e.forEach((function(e,t){var a=e.reduce((function(e,t){return e+t.points}),0);n[t].points+=a}))})),Object.keys(n).forEach((function(e){return a.push(n[e])})),a.sort((function(e,t){return t.points-e.points}))},C=function(e,t,a){var n=[];return a.forEach((function(a){a.forEach((function(a,r){var l=e.get(r);a.forEach((function(e,a){e.valid&&e.star&&n.push({category:t.categories[a],playerName:l.name,text:e.text})}))}))})),n}},163:function(e,t,a){"use strict";var n=a(186),r=a(67),l=a.n(r),o=a(0),c=a.n(o),i=a(164),u=a.n(i);t.a=function(e){return c.a.createElement("div",{className:u.a.button_wrapper},c.a.createElement(n.a,{type:"button",color:"default",variant:"contained",size:"large",startIcon:c.a.createElement(l.a,null),onClick:e.onReturnToDashboard},"Dashboard"))}},164:function(e,t,a){e.exports={button_wrapper:"ToDashboardButton_button_wrapper__1EtAB"}},182:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(63);t.a=function(e){var t=e.rules;return t.checkForDuplicates||t.onlyPlayerWithValidAnswer||t.creativeAnswersExtraPoints?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"bold-text"},"Regeln f\xfcr die Punktevergabe:"),r.a.createElement("ul",null,t.checkForDuplicates?r.a.createElement("li",null,l.e.checkForDuplicates):null,t.onlyPlayerWithValidAnswer?r.a.createElement("li",null,l.e.onlyPlayerWithValidAnswer):null,t.creativeAnswersExtraPoints?r.a.createElement("li",null,l.e.creativeAnswersExtraPoints):null)):null}},235:function(e,t,a){e.exports={button_wrapper:"GameResults_button_wrapper__3kHLB"}},284:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(33),l=a(35),o=a(36),c=a(119),i=a(0),u=a.n(i),s=a(20),m=a(162),f=a(155),d=a(121),p=a(217),h=a(219),E=a(117),g=a(172),b=a.n(g),v=a(233),y=a.n(v),x=a(43),w=Object(E.a)({listItem:{flex:"0 0 auto",justifyContent:"center",margin:0},listItemText:{flex:"0 0 auto",minWidth:"6rem"}}),O=function(e){var t=w(),a=Math.max.apply(Math,Object(m.a)(e.gameResults.map((function(e){return e.points}))));return u.a.createElement(f.a,null,e.gameResults.map((function(e,n){return u.a.createElement(d.a,{key:"results-for-player-"+n,className:t.listItem},u.a.createElement(p.a,null,e.points===a?u.a.createElement(y.a,{color:"primary",fontSize:"large"}):u.a.createElement(b.a,{fontSize:"large"})),u.a.createElement(h.a,{className:t.listItemText,primary:e.playerName,secondary:"".concat(e.points," ").concat(Object(x.f)(e.points,"Punkt","Punkte"))}))})))},C=a(170),k=a(237),j=a(287),A=a(261),D=a(263),R=a(186),N=a(277),P=a(278),F=a(282),S=a(234),I=a.n(S),W=a(291),_=a(154),z=a(5),L=a(292),B=a(274),M=a(276),T=a(271),V=a(273),H=a(275),G=a(272),J=a(165),K=a.n(J),q=Object(z.a)((function(e){return Object(L.a)({head:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(255, 255, 255, 0.5)"}},body:{fontSize:14,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(224, 224, 224, 1)"}}})}))(T.a),Q=Object(z.a)((function(e){return Object(L.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(G.a),U=Object(E.a)({tableContainer:{borderRadius:0},table:{maxWidth:"80vw"},firstColumn:{fontWeight:"bold"},invalidInput:{color:"crimson",textDecoration:"line-through"},creativeAnswerStarIcon:{paddingRight:"0.2rem",fontSize:"1rem",verticalAlign:"text-top"}}),X=function(e){var t=U(),a=e.gameConfig,n=e.round,r=e.sortedPlayers;return u.a.createElement(V.a,{component:_.a,className:t.tableContainer},u.a.createElement(B.a,{className:t.table,"aria-label":"Die Spielrunde im Detail"},u.a.createElement(H.a,null,u.a.createElement(G.a,null,u.a.createElement(q,null,"Kategorie"),r.map((function(e,t){return u.a.createElement(q,{key:"slf-table-head-cell-for-player-".concat(t),align:"right"},e.name)})))),u.a.createElement(M.a,null,a.categories.map((function(e,a){return u.a.createElement(Q,{key:"slf-table-row-for-category-".concat(a)},u.a.createElement(q,{component:"th",scope:"row",className:t.firstColumn},e),r.map((function(e,r){var l=n.get(e.id)[a];return u.a.createElement(q,{key:"slf-table-cell-for-category-".concat(a,"-player-").concat(r),className:l.valid?"":t.invalidInput,align:"right"},l.valid&&l.star?function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(W.a,{title:"Als besonders kreativ markiert",placement:"bottom"},u.a.createElement(K.a,{className:t.creativeAnswerStarIcon,color:"secondary"})),u.a.createElement("span",null,e.text," (+",e.points,")"))}(l):null,l.valid&&!l.star?"".concat(l.text," (+").concat(l.points,")"):null,l.valid?null:l.text)})))})))))},Y=function(e){var t=e.children,a=e.value,n=e.index,r=Object(k.a)(e,["children","value","index"]);return u.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),a===n&&t)},Z=Object(E.a)((function(e){return{root:{flexGrow:1,width:"100%",padding:"0 !important",backgroundColor:e.palette.background.paper}}})),$=function(e){var t=Z(),a=e.gameConfig,n=e.open,r=e.rounds,l=e.sortedPlayers,o=e.onClose,c=u.a.useState(0),i=Object(C.a)(c,2),s=i[0],m=i[1];return u.a.createElement(j.a,{onClose:o,open:n,maxWidth:"lg"},u.a.createElement(A.a,{className:t.root},u.a.createElement(N.a,{position:"static",color:"default"},u.a.createElement(F.a,{value:s,onChange:function(e,t){return m(t)},indicatorColor:"secondary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.map((function(e,t){return u.a.createElement(P.a,Object.assign({key:"slf-game-rounds-overview-tab-".concat(t),label:"Runde ".concat(t+1,": ").concat(a.letters[t])},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)))})))),r.map((function(e,t){return u.a.createElement(Y,{key:"slf-game-rounds-overview-tab-panel-".concat(t),value:s,index:t},u.a.createElement(X,{gameConfig:a,round:e,sortedPlayers:l}))}))),u.a.createElement(D.a,null,u.a.createElement(R.a,{type:"button",onClick:o},"Schlie\xdfen")))},ee=function(e){var t=Object(i.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(R.a,{color:"primary",variant:"contained",size:"large",startIcon:u.a.createElement(I.a,null),onClick:function(){return r(!0)}},"Alle Runden im Detail"),u.a.createElement($,{gameConfig:e.gameConfig,open:n,rounds:e.rounds,sortedPlayers:e.sortedPlayers,onClose:function(){return r(!1)}}))},te=a(262),ae=a(279),ne=a(293),re=Object(E.a)({list:{paddingBottom:0},listItem:{padding:"0.25rem 0"},listItemAvatar:{marginRight:"1rem"}}),le=function(e){var t=re(),a=e.hallOfFameData,n=e.open,r=e.onClose;return u.a.createElement(j.a,{onClose:r,open:n,maxWidth:"lg"},u.a.createElement(A.a,null,u.a.createElement(te.a,null,"Hall of Fame"),u.a.createElement(c.a,null),u.a.createElement(f.a,{className:t.list},a.map((function(e,a){return u.a.createElement(d.a,{key:"slf-hall-of-fame-item-".concat(a),className:t.listItem},u.a.createElement(ae.a,{className:t.listItemAvatar},u.a.createElement(ne.a,{icon:u.a.createElement(b.a,null),color:"primary",label:e.playerName})),u.a.createElement(h.a,{primary:e.text,secondary:e.category}))})))),u.a.createElement(D.a,null,u.a.createElement(R.a,{type:"button",onClick:r},"Schlie\xdfen")))},oe=function(e){var t=Object(i.useState)(!1),a=Object(C.a)(t,2),n=a[0],r=a[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(R.a,{color:"primary",variant:"contained",size:"large",startIcon:u.a.createElement(K.a,null),disabled:0===e.hallOfFameData.length,onClick:function(){return r(!0)}},"Hall of Fame"),u.a.createElement(le,{hallOfFameData:e.hallOfFameData,open:n,onClose:function(){return r(!1)}}))},ce=a(182),ie=a(64),ue=a(163),se=a(13),me=a(161),fe=a(235),de=a.n(fe),pe=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={gameConfig:null,gameResults:[],gameRounds:[],hallOfFameData:[],sortedPlayers:[]},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.gameConfig,n=t.gameResults,r=t.gameRounds,l=t.hallOfFameData,o=t.sortedPlayers;return null===a?null:u.a.createElement("div",{className:"main-content-wrapper"},u.a.createElement("div",{className:"material-card-style"},u.a.createElement(ie.a,{showDivider:!0,text:"Ergebnis"}),u.a.createElement(O,{gameResults:n}),u.a.createElement(c.a,null),u.a.createElement("div",{className:de.a.button_wrapper},u.a.createElement(ee,{gameConfig:a,rounds:r,sortedPlayers:o}),u.a.createElement(oe,{hallOfFameData:l}))),u.a.createElement("div",{className:"material-card-style"},u.a.createElement(ie.a,{showDivider:!0,text:"Spieleinstellungen"}),u.a.createElement("p",null,u.a.createElement("span",{className:"bold-text"},"Runden:")," ",a.numberOfRounds),u.a.createElement("p",null,u.a.createElement("span",{className:"bold-text"},"Buchstaben:")," ",a.letters.join(", ")),u.a.createElement("p",null,u.a.createElement("span",{className:"bold-text"},"Kategorien:")," ",a.categories.join(", ")),u.a.createElement(ce.a,{rules:a.scoringOptions})),u.a.createElement(ue.a,{onReturnToDashboard:function(){return e.props.history.push("/")}}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.allPlayers,a=e.gameConfig,n=e.gameRounds;null===t||null===a||null===n?this.props.history.push("/"):(this.setState({gameConfig:a,gameResults:Object(me.b)(t,n),gameRounds:n,hallOfFameData:Object(me.f)(t,a,n),sortedPlayers:Object(me.j)(t)}),this.props.onResetAppState())}}]),a}(i.Component);t.default=Object(s.b)((function(e){return e}),(function(e){return{onResetAppState:function(){return e(Object(se.g)())}}}))(pe)}}]);
//# sourceMappingURL=12.62e7b152.chunk.js.map
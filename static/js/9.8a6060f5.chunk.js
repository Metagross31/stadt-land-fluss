(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[9],{187:function(e,t,n){"use strict";n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"m",(function(){return P})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return R}));var a=n(13),r=n(188),s=n(192),i=n(208),o=n.n(i),c=n(77),l=n(51),u=function(e,t){if(e>t.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var n=[],a=Object(r.a)(t),s=function(e){var t=o()(a);n.push(t),a=a.filter((function(e){return e!==t}))},i=0;i<e;i++)s();return n},d=function(e,t,n){for(var a=Object(r.a)(n),s=e-n.length,i=t.filter((function(e){return!n.includes(e)})),c=function(e){var t=o()(i);a.push(t),i=i.filter((function(e){return e!==t}))},l=0;l<s;l++)c();return a},h=function(e){return Array.from(e).map((function(e){return e[1]})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},p=function(e){return Object(l.e)(e,{points:c.s,star:!1,text:"",valid:!0})},f=function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{text:e.text.trim(),valid:!!e.text})}))},b=function(e,t){var n=new Map;return e.forEach((function(a){var r=[];t.forEach((function(){var t=new Map;e.forEach((function(e){t.set(e.id,!0)})),r.push(t)})),n.set(a.id,r)})),n},m=function(e,t){if(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)for(var n=t.keys().next().value,a=t.get(n),r=0;r<a.length;r++)g(e,t,r)},g=function(e,t,n){(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)&&Array.from(t.keys()).forEach((function(a){var r=t.get(a);r[n].valid&&(e.onlyPlayerWithValidAnswer&&j(a,t,n)?r[n].points=c.n:e.checkForDuplicates&&v(a,t,n)?r[n].points=c.o:r[n].points=c.s)}))},j=function(e,t,n){var a=Array.from(t.keys()).filter((function(t){return t!==e})),r=!0;return a.forEach((function(e){return r=r&&!t.get(e)[n].valid})),r},v=function(e,t,n){var a=Array.from(t.keys()).filter((function(t){return t!==e})),r=t.get(e)[n].text.toLowerCase().replace(/[^0-9a-z]/gi,"");return Object(s.some)(a,(function(e){var a=t.get(e)[n];return a.valid&&r===a.text.toLowerCase().replace(/[^0-9a-z]/gi,"")}))},y=function(e){return e<=3?1:2},O=function(e){var t=0;return e.forEach((function(e){return t=e?t:t+1})),t},P=function(e,t){var n=new Map;return e.forEach((function(e,a){if(!e){var r=t.get(a);r&&n.set(a,r)}})),h(n)},x=function(e,t){t.forEach((function(t){t.forEach((function(t){t.valid?e.creativeAnswersExtraPoints&&t.star&&(t.points=t.points+c.d):t.points=0}))}))},w=function(e,t){var n=[],a={};return e.forEach((function(e,t){return a[t]={playerName:e.name,points:0}})),t.forEach((function(e){e.forEach((function(e,t){var n=e.reduce((function(e,t){return e+t.points}),0);a[t].points+=n}))})),Object.keys(a).forEach((function(e){return n.push(a[e])})),n.sort((function(e,t){return t.points-e.points}))},R=function(e,t,n){var a=[];return n.forEach((function(n){n.forEach((function(n,r){var s=e.get(r);n.forEach((function(e,n){e.valid&&e.star&&a.push({category:t.categories[n],playerName:s.name,text:e.text})}))}))})),a}},193:function(e,t,n){"use strict";var a,r;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.checkForDuplicates="checkForDuplicates",e.creativeAnswersExtraPoints="creativeAnswersExtraPoints",e.onlyPlayerWithValidAnswer="onlyPlayerWithValidAnswer"}(a||(a={})),function(e){e.allPlayersSubmit="allPlayers",e.countdownEnds="countdownEnds",e.firstPlayerSubmits="firstPlayer"}(r||(r={}))},210:function(e,t,n){"use strict";var a=n(2),r=n(0),s=n.n(r),i=n(77),o=n(211),c=n.n(o);t.a=function(e){var t=e.rules;return t.checkForDuplicates||t.onlyPlayerWithValidAnswer||t.creativeAnswersExtraPoints?Object(a.jsxs)(s.a.Fragment,{children:[e.isForGameResultsPage?Object(a.jsx)("h3",{className:c.a.heading,children:"Regeln f\xfcr die Punktevergabe"}):null,e.isForGameResultsPage?null:Object(a.jsx)("h4",{className:c.a.heading,children:"Regeln f\xfcr die Punktevergabe"}),Object(a.jsxs)("ul",{className:c.a.list,children:[t.checkForDuplicates?Object(a.jsx)("li",{children:i.e.checkForDuplicates}):null,t.onlyPlayerWithValidAnswer?Object(a.jsx)("li",{children:i.e.onlyPlayerWithValidAnswer}):null,t.creativeAnswersExtraPoints?Object(a.jsx)("li",{children:i.e.creativeAnswersExtraPoints}):null]})]}):null}},211:function(e,t,n){e.exports={heading:"ScoringOptionsList_heading__24MfE",list:"ScoringOptionsList_list__2_T80"}},254:function(e,t,n){},256:function(e,t,n){e.exports={answer_box_wrapper:"PhaseEvaluateRound_answer_box_wrapper__2bEV4",answer_box:"PhaseEvaluateRound_answer_box__3FEJ-",answer_box_creative:"PhaseEvaluateRound_answer_box_creative__QcFuI",player_name:"PhaseEvaluateRound_player_name__3vIEv",answer:"PhaseEvaluateRound_answer__26B5S",invalid_answer:"PhaseEvaluateRound_invalid_answer__24pkd",button_wrapper:"PhaseEvaluateRound_button_wrapper__2ww_I",points_wrapper:"PhaseEvaluateRound_points_wrapper__d9qw8",points:"PhaseEvaluateRound_points__38f4X",search_link:"PhaseEvaluateRound_search_link__1u1C7",auto_reject_icon:"PhaseEvaluateRound_auto_reject_icon__aG-MH"}},264:function(e,t,n){},265:function(e,t,n){e.exports={link_label:"JoinGameLink_link_label__1tx1j"}},267:function(e){e.exports=JSON.parse('{"publishKey":"pub-c-cea13e04-e3aa-434b-806f-fc890fbd45bf","subscribeKey":"sub-c-66cfccd4-6c89-11ea-a7c4-5e95b827fd71"}')},319:function(e,t,n){"use strict";n.r(t);var a,r=n(13),s=n(188),i=n(39),o=n(40),c=n(42),l=n(41),u=n(2),d=n(192),h=n(249),p=n.n(h),f=n(222),b=n(0),m=n.n(b),g=n(84),j=n(29),v=n(194),y=n(327),O=n(298),P=n(299),x=n(300),w=n(172),R=n(171),C=n(147),k=n(176),I=n(306),E=n(307),S=n(133),A=n(253),N=n.n(A),F=n(203),M=n.n(F),_=n(187),T=Object(S.a)({adminPanel:{position:"absolute",top:"1rem",right:"1rem"},menuButton:{background:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0.5) 35%, rgba(255,255,255,0) 60%);"},dialogContent:{maxWidth:"23rem"},dialogContentText:{color:"black"}}),D=function(e){var t=T(),n=e.onClose,a=e.open;return Object(u.jsxs)(y.a,{onClose:function(){return n(!1)},open:a,children:[Object(u.jsx)(O.a,{classes:{root:t.dialogContent},children:e.playerToBeKicked?Object(u.jsxs)(P.a,{classes:{root:t.dialogContentText},children:['"With great power comes great responsibility" \u2013 Willst du ',e.playerToBeKicked.name," wirklich aus dem Spiel werfen?"]}):null}),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(w.a,{type:"button",onClick:function(){return n(!1)},children:"Abbrechen"}),Object(u.jsx)(w.a,{type:"button",color:"primary",onClick:function(){return n(!0)},children:"Rauswerfen"})]})]})},G=function(e){var t=T(),n=Object(b.useState)(null),a=Object(v.a)(n,2),r=a[0],s=a[1],i=Object(b.useState)(!1),o=Object(v.a)(i,2),c=o[0],l=o[1],d=Object(b.useState)(null),h=Object(v.a)(d,2),p=h[0],f=h[1],m=new Map;e.allPlayers.forEach((function(e,t){e.isAdmin||m.set(t,e)}));var g=Object(_.j)(m);return Object(u.jsxs)("div",{className:t.adminPanel,children:[Object(u.jsx)(R.a,{className:t.menuButton,title:"Admin-Panel","aria-label":"Admin-Panel","aria-controls":"admin-panel","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},children:Object(u.jsx)(M.a,{color:"primary"})}),Object(u.jsx)(C.a,{id:"admin-panel",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){s(null)},children:g.map((function(e,t){return Object(u.jsxs)(k.a,{title:"".concat(e.name," aus dem Spiel werfen"),onClick:function(){return t=e,s(null),f(t),void l(!0);var t},children:[Object(u.jsx)(I.a,{children:Object(u.jsx)(N.a,{color:"secondary"})}),Object(u.jsx)(E.a,{primary:e.name})]},"menu-item-delete-player-".concat(t))}))}),Object(u.jsx)(D,{open:c,playerToBeKicked:p,onClose:function(t){l(!1),t&&p&&e.kickPlayer(p.id)}})]})},L=(n(254),n(77)),W=n(47),z=function(){function e(t,n){Object(i.a)(this,e),this.x=t,this.y=n,this.radius=3.5}return Object(o.a)(e,[{key:"draw",value:function(e){e.save(),e.translate(this.x,this.y),e.fillStyle="white",e.fillRect(0,0,this.radius,this.radius),e.restore()}}]),e}(),V=function(){function e(t,n){var a=this;Object(i.a)(this,e),this.letters=t,this.callbackWhenAnimationDone=n,this.canvas=void 0,this.ctx=void 0,this.currentPos=void 0,this.width=void 0,this.height=void 0,this.particlePositions=void 0,this.particles=void 0,this.tmpCanvas=void 0,this.tmpCtx=void 0,this.time=void 0,this.counter=0,this.myInterval=void 0,this.activeTheme=void 0,this.animate=function(){requestAnimationFrame(a.animate),a.ctx.fillStyle=a.activeTheme.animationBackgroundColor,a.ctx.fillRect(0,0,a.width,a.height),a.animateParticles()},this.canvas=document.querySelector("#letter-animation-canvas"),this.ctx=this.canvas.getContext("2d");var r=document.querySelector("main");this.activeTheme=W.a.find((function(e){return r.classList.contains(e.className)})),this.width=r.offsetWidth,this.height=r.offsetHeight,this.particlePositions=[],this.particles=[],this.tmpCanvas=document.createElement("canvas"),this.tmpCtx=this.tmpCanvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height,this.particlePositions=[],this.currentPos=0,this.time=""}return Object(o.a)(e,[{key:"init",value:function(){var e=this;this.myInterval=setInterval((function(){e.counter<e.letters.length&&(e.changeLetter(),e.getPixels(e.tmpCanvas,e.tmpCtx)),e.counter++,e.counter>e.letters.length+1&&(clearInterval(e.myInterval),e.callbackWhenAnimationDone())}),L.h),this.makeParticles(1e3),this.animate()}},{key:"changeLetter",value:function(){this.time=this.letters[this.currentPos],this.currentPos++,this.currentPos>=this.letters.length&&(this.currentPos=0)}},{key:"makeParticles",value:function(e){for(var t=0;t<=e;t++){var n=this.width/2+400*Math.random()-200,a=this.height/2+400*Math.random()-200;this.particles.push(new z(n,a))}}},{key:"getPixels",value:function(e,t){var n=this.time;e.width=window.innerWidth,e.height=window.innerHeight,t.fillStyle="red",t.font="italic bold 330px Noto Serif",t.fillText(n,e.width/2-t.measureText(n).width/2,e.height/2+100);var a=t.getImageData(0,0,e.width,e.height),r=new Uint32Array(a.data.buffer);this.particlePositions.length>0&&(this.particlePositions=[]);for(var s=0;s<e.height;s+=6)for(var i=0;i<e.width;i+=6)r[s*e.width+i]&&this.particlePositions.push({x:i,y:s})}},{key:"animateParticles",value:function(){for(var e,t,n=0,a=this.particles.length;n<a;n++)e=this.particles[n],t=this.particlePositions[n],this.particles.indexOf(e)===this.particlePositions.indexOf(t)&&(e.x+=.3*(t.x-e.x),e.y+=.3*(t.y-e.y),e.draw(this.ctx))}}]),e}(),B=function(e){var t=Object(s.a)(L.p).filter((function(t){return t!==e.letterToUnveil})),n=[].concat(Object(s.a)(Object(_.l)(L.g-1,t)),[e.letterToUnveil]);return Object(b.useEffect)((function(){new V(n,e.callbackWhenAnimationDone).init()})),Object(u.jsx)("canvas",{id:"letter-animation-canvas"})},U=n(93),K=n(6),q=n(181),J=n(308),H=n(332),Q=n(330),X=n(320),Z=n(135),Y=n(260),$=n.n(Y),ee=n(261),te=n.n(ee),ne=n(258),ae=n.n(ne),re=n(195),se=n.n(re),ie=n(259),oe=n.n(ie),ce=n(202),le=n.n(ce),ue=n(255),de=n.n(ue),he=Object(S.a)({centerContent:{display:"flex",justifyContent:"center"},chip:{height:"3rem",marginBottom:"0",marginTop:"1rem",borderRadius:"5px",fontWeight:"normal",fontSize:"1.2rem",boxShadow:"0 2px 4px rgba(0,0,0,.501961)"}}),pe=function(e){var t=he(),n=e.currentLetter,a=e.currentRound,r=e.isEvaluationPhase,s=e.numberOfRounds,i=r?"Auswertung von Runde ".concat(a,": \u201e").concat(n,"\u201c"):"Runde ".concat(a," von ").concat(s,": \u201e").concat(n,"\u201c");return Object(u.jsx)("div",{className:t.centerContent,children:Object(u.jsx)(Q.a,{color:"primary",component:"h2",icon:Object(u.jsx)(de.a,{}),label:i,className:t.chip})})},fe=n(256),be=n.n(fe),me=Object(K.a)((function(e){return Object(q.a)({badge:{right:-3,top:"100%",border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}})}))(J.a),ge=function(e){var t=Object(b.useState)(e.playersThatFinishedEvaluation.has(e.playerInfo.id)),n=Object(v.a)(t,2),a=n[0],r=n[1],s=e.allPlayers,i=e.currentRound,o=e.currentRoundEvaluation,c=e.gameConfig,l=e.playerInfo,d=e.playersThatFinishedEvaluation,h=e.gameRounds[i-1],p=c.letters[i-1],f=Object(_.j)(s),g=[];f.forEach((function(e){d.has(e.id)||g.push(e.name)}));var j=function(t,n){var r=f[n],i=o.get(r.id)[t],c=i.get(l.id),d=Object(_.m)(i,s),p=0===d.length?"Keine Ablehnungen":"Abgelehnt von "+d.map((function(e){return e.name})).join(", "),b=!!h.get(r.id)[t].text,m=Object(u.jsx)(H.a,{title:p,arrow:!0,children:Object(u.jsx)(R.a,{className:"slf-evaluation-button",color:c?"default":"secondary",size:"small","aria-label":c?"Antwort ablehnen":"Antwort akzeptieren",disabled:a,onClick:function(){return function(t,n,a){e.updateEvaluationOfPlayerInput({categoryIndex:t,evaluatedPlayerId:n,markedAsValid:!a})}(t,r.id,c)},children:Object(u.jsx)(me,{badgeContent:d.length,color:"secondary",children:Object(u.jsx)(le.a,{})})})},"slf-evaluation-tooltip-".concat(t,"-").concat(n)),g=Object(u.jsx)(H.a,{title:"Automatisch abgelehnt",children:Object(u.jsx)(le.a,{color:"secondary",className:be.a.auto_reject_icon})},"slf-evaluation-tooltip-".concat(t,"-").concat(n));return b?m:g},y=function(e,t){var n=c.categories[e],a=f[t],r=h.get(a.id)[e].text,s="https://www.ecosia.org/search?q=".concat(encodeURIComponent(n),"+").concat(encodeURIComponent(r));return Object(u.jsx)("a",{className:be.a.search_link,href:s,target:"_blank",rel:"noopener noreferrer","aria-label":"Begriff nachschlagen",children:Object(u.jsx)(H.a,{title:"Begriff nachschlagen",placement:"bottom",children:Object(u.jsx)(ae.a,{color:"primary"})})})},O=function(t,n){var r=f[n],s=h.get(r.id)[t];return Object(u.jsx)(H.a,{title:s.star?"Kreativ-Markierung aufheben":"Als besonders kreativ markieren",placement:"bottom",children:Object(u.jsx)(R.a,{color:"primary",size:"small",disabled:a||r.id===e.playerInfo.id,onClick:function(){return function(t,n,a){e.updateIsPlayerInputVeryCreativeStatus({categoryIndex:t,evaluatedPlayerId:n,markedAsCreative:!a})}(t,r.id,s.star)},children:s.star?Object(u.jsx)(se.a,{}):Object(u.jsx)(oe.a,{})})})},P=function(e){var t="+"+(e.valid?function(e){return c.scoringOptions.creativeAnswersExtraPoints&&e.star?e.points+L.d:e.points}(e):0),n=e.valid?"primary":"default";return Object(u.jsxs)("div",{className:be.a.points_wrapper,children:[Object(u.jsx)(Q.a,{label:t,color:n,classes:{root:be.a.points}}),Object(u.jsx)("span",{className:"sr-only",children:"Punkte"})]})};return Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsx)(pe,{currentLetter:p,currentRound:i,isEvaluationPhase:!0,numberOfRounds:c.numberOfRounds}),c.categories.map((function(e,t){return Object(u.jsxs)("div",{className:"material-card-style",children:[Object(u.jsx)("h3",{className:"section-header",children:e}),Object(u.jsx)("div",{role:"list",children:f.map((function(e,n){return function(e,t){var n=f[t],a=h.get(n.id)[e],r=!!a.text,s=a.valid,i=s&&a.star,o=Object(u.jsx)("span",{className:"sr-only",children:"Leere Antwort wurde automatisch abgelehnt."}),c=Object(u.jsx)("span",{className:"sr-only",children:"Antwort wurde abgelehnt."}),l=Object(u.jsx)("span",{className:"sr-only",children:"Antwort wurde als besonders kreativ markiert."});return Object(u.jsxs)("div",{role:"listitem",className:be.a.answer_box_wrapper,children:[Object(u.jsxs)(X.a,{boxShadow:1,tabIndex:0,className:i?be.a.answer_box_creative:be.a.answer_box,children:[Object(u.jsxs)("p",{className:be.a.player_name,children:[Object(u.jsx)("span",{className:"sr-only",children:"Antwort von"}),n.name,Object(u.jsx)("span",{className:"sr-only",children:":"})]}),Object(u.jsx)(Z.a,{light:!0,"aria-hidden":"true"}),Object(u.jsxs)("p",{className:s?be.a.answer:be.a.invalid_answer,"aria-hidden":!r,children:[r?a.text:"(leer)",Object(u.jsx)("span",{className:"sr-only",children:"."})]}),r?null:o,r&&!s?c:null,i?l:null,P(a)]}),Object(u.jsxs)("div",{className:be.a.button_wrapper,children:[r?y(e,t):null,s?O(e,t):null,j(e,t)]})]},"slf-answer-box-wrapper-".concat(e,"-").concat(t))}(t,n)}))},"slf-answers-for-category-no-"+t)]},"slf-evaluation-for-category-no-"+t)})),Object(u.jsxs)("div",{className:"material-card-style",children:["Best\xe4tigung ausstehend: ",Object(u.jsx)("span",{className:"bold-text",children:g.join(", ")})]}),Object(u.jsx)(R.a,{type:"button",className:"fixed-bottom-right-button",color:"secondary",title:"Best\xe4tigen","aria-label":"Best\xe4tigen",onClick:function(){a||(r(!0),e.sendEvaluationFinishedMessage())},children:a?Object(u.jsx)($.a,{}):Object(u.jsx)(te.a,{})})]})},je=n(321),ve=n(309),ye=n(263),Oe=n.n(ye),Pe=n(193),xe=n(262),we=Object(S.a)((function(e){return Object(q.a)({countdown:{position:"fixed",right:"1.5rem",bottom:"1rem",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,padding:"0.5rem 1rem",fontSize:"1.5rem",boxShadow:"0 2px 4px rgba(0, 0, 0, .401961)",borderRadius:"5px"}})})),Re=function(e){var t=we();return Object(u.jsx)(xe.a,{date:Date.now()+1e3*e.duration,renderer:function(e){return Object(u.jsxs)("div",{className:t.countdown,children:[Object(xe.b)(e.minutes),":",Object(xe.b)(e.seconds)]})},onComplete:e.onComplete})},Ce=m.a.memo(Re),ke=function(e){var t=e.currentRound,n=e.gameConfig,a=e.gameRoundInputs,i=n.letters[t-1],o=Object(u.jsx)(R.a,{type:"button",className:"fixed-bottom-right-button",color:"secondary",title:"Abschicken","aria-label":"Abschicken",onClick:e.finishRoundOnUserAction,children:Object(u.jsx)(Oe.a,{})}),c=Object(u.jsx)(Ce,{duration:e.gameConfig.durationOfCountdown,onComplete:e.finishRoundOnCountdownComplete});return Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsx)(pe,{currentLetter:i,currentRound:t,isEvaluationPhase:!1,numberOfRounds:n.numberOfRounds}),Object(u.jsxs)("form",{className:"app-form",noValidate:!0,autoComplete:"off",children:[n.categories.map((function(t,n){var o="slf-input-for-category-no-"+n;return Object(u.jsxs)("div",{className:"material-card-style",children:[Object(u.jsxs)("label",{htmlFor:o,className:"section-header",children:[t,Object(u.jsxs)("span",{className:"sr-only",children:[" mit Buchstabe (",i,")"]})]}),Object(u.jsx)(je.a,{value:a[n].text,variant:"outlined",fullWidth:!0,InputProps:{id:o,startAdornment:Object(u.jsxs)(ve.a,{position:"start",children:[i,":"]}),spellCheck:!1},onChange:function(t){return function(t,n){var i=Object(s.a)(a);i[n]=Object(r.a)(Object(r.a)({},i[n]),{},{text:t.target.value}),e.updateCurrentRoundInputs(i)}(t,n)}})]},o)})),n.endRoundMode===Pe.a.countdownEnds?c:o]})]})},Ie=(n(264),n(266)),Ee=n.n(Ie),Se=n(62);!function(e){e.currentRoundInputs="currentRoundInputs",e.dataForCurrentGame="dataForCurrentGame",e.evaluationFinished="evaluationFinished",e.evaluationOfPlayerInput="evaluationOfPlayerInput",e.isPlayerInputVeryCreative="isPlayerInputVeryCreative",e.kickPlayer="kickPlayer",e.requestGameData="requestGameData",e.roundFinished="roundFinished",e.startGame="startGame"}(a||(a={}));var Ae=function(){function e(t){Object(i.a)(this,e),this.payload=t}return Object(o.a)(e,[{key:"toPubNubMessage",value:function(){return{type:a.currentRoundInputs,payload:this.payload}}}]),e}(),Ne=function(){function e(t){Object(i.a)(this,e),this.payload=t}return Object(o.a)(e,[{key:"toPubNubMessage",value:function(){return{type:a.evaluationOfPlayerInput,payload:this.payload}}}]),e}(),Fe=function(){function e(t){Object(i.a)(this,e),this.payload=t}return Object(o.a)(e,[{key:"toPubNubMessage",value:function(){return{type:a.isPlayerInputVeryCreative,payload:this.payload}}}]),e}(),Me=function(){function e(t){Object(i.a)(this,e),this.payload=t}return Object(o.a)(e,[{key:"toPubNubMessage",value:function(){return{type:a.kickPlayer,payload:this.payload}}}]),e}(),_e=function(){function e(t){Object(i.a)(this,e),this.payload=t}return Object(o.a)(e,[{key:"toPubNubMessage",value:function(){return{type:a.dataForCurrentGame,payload:this.payload}}}]),e}(),Te=n(329),De=n(201),Ge=n.n(De),Le=n(51),We=n(265),ze=n.n(We),Ve=function(e){var t=window.location.href,n=t.slice(0,t.length-5)+"/joingame?id="+e.gameId;return Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsx)("p",{className:ze.a.link_label,children:"Teile diesen Link mit Freunden:"}),Object(u.jsx)(Te.a,{name:"idInput",value:n,className:"app-form-input",readOnly:!0,fullWidth:!0,endAdornment:Object(u.jsx)(ve.a,{position:"end",children:Object(u.jsx)(R.a,{title:"Link zum Spiel kopieren","aria-label":"Link zum Spiel kopieren",onClick:function(){Object(Le.d)(n),e.onLinkCopiedToClipboard()},children:Object(u.jsx)(Ge.a,{})})}),inputProps:{tabIndex:-1}})]})},Be=n(209),Ue=n.n(Be),Ke=Object(S.a)((function(e){return Object(q.a)({root:{display:"flex",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)}})})),qe=function(e){var t=Ke(),n=Object(_.j)(e.players);return Object(u.jsx)("div",{className:t.root,role:"list",children:n.map((function(e,n){return Object(u.jsx)(Q.a,{role:"listitem",className:t.chip,icon:Object(u.jsx)(Ue.a,{}),color:e.isAdmin?"secondary":"primary",label:e.isAdmin?"".concat(e.name," (Admin)"):e.name},"player-name-".concat(n))}))})},Je=n(210),He=n(79),Qe=function(e){var t=e.allPlayers,n=e.gameId,r=e.playerInfo,s=e.gameConfig,i=Object(Se.b)(),o=i.enqueueSnackbar,c=(i.closeSnackbar,function(){var t="Link zum Spiel wurde in die Zwischenablage kopiert";o(t,{"aria-live":"off"}),e.informScreenReaderUser(t)}),l=Object(u.jsxs)("p",{className:"wait-for-start-animation",children:["Warte auf Spielbeginn ",Object(u.jsx)("span",{children:"."}),Object(u.jsx)("span",{children:"."}),Object(u.jsx)("span",{children:"."})]}),d=function(e){switch(e.endRoundMode){case Pe.a.allPlayersSubmit:return"Wenn alle Spielenden ihre Antworten abgeschickt haben";case Pe.a.countdownEnds:return"Countdown (".concat(e.durationOfCountdown," Sekunden)");case Pe.a.firstPlayerSubmits:return"Schnellster Spieler";default:return""}};return Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsxs)("div",{className:"material-card-style",children:[Object(u.jsx)(He.a,{text:"Warteraum"}),Object(u.jsxs)("div",{className:"players-wrapper",children:[Object(u.jsxs)("h3",{children:["Mitspieler (",e.allPlayers.size,"):"]}),Object(u.jsx)(qe,{players:e.allPlayers})]}),e.gameConfig?Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsx)(Z.a,{}),Object(u.jsx)("h3",{children:"Spieleinstellungen"}),Object(u.jsxs)("div",{className:"game-settings",children:[Object(u.jsx)("h4",{children:"Spiel-ID"}),Object(u.jsx)("p",{children:e.gameId}),Object(u.jsx)("h4",{children:"Runden"}),Object(u.jsx)("p",{children:s.numberOfRounds}),Object(u.jsx)("h4",{children:"Kategorien"}),Object(u.jsx)("p",{children:s.categories.join(", ")}),Object(u.jsx)("h4",{children:"Beenden der Runde durch"}),Object(u.jsx)("p",{children:d(s)})]}),Object(u.jsx)(Je.a,{isForGameResultsPage:!1,rules:s.scoringOptions})]}):null,Object(u.jsx)(Z.a,{}),r.isAdmin?Object(u.jsx)("div",{className:"button-wrapper add-margin-top",children:Object(u.jsx)(w.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(u.jsx)(Ee.a,{}),disabled:t.size<L.l,onClick:function(){return e.sendPubNubMessage({type:a.startGame})},children:"Starten"})}):l]}),r.isAdmin?Object(u.jsx)("div",{className:"material-card-style",children:Object(u.jsx)(Ve,{gameId:n,onLinkCopiedToClipboard:c})}):null]})},Xe=function(e){var t,n=Object(f.b)(),a=function(){var t;t=e.playerInfo.isAdmin?{gameConfig:e.gameConfig,playerInfo:e.playerInfo}:{playerInfo:e.playerInfo},n.setState({channels:[e.gameChannel],state:t})},r=function(){n.hereNow({channels:[e.gameChannel],includeUUIDs:!0,includeState:!0},(function(t,n){console.log("PubNub hereNow",n);var a=function(t){var n=[];return(t.channels[e.gameChannel]||[]).occupants.forEach((function(t){var a=t.state;a&&a.playerInfo&&a.playerInfo.id!==e.playerInfo.id&&n.push(a)})),n}(n);0!==a.length||e.playerInfo.isAdmin&&!e.isRejoiningGame?!e.isRejoiningGame&&a.length>0&&e.addPlayers.apply(e,Object(s.a)(a)):e.navigateToJoinGamePage("Es wurde kein offenes Spiel mit der ID ".concat(e.gameChannel," gefunden!"))}))};return Object(b.useEffect)((function(){var s={message:function(t){console.log("PubNub message event",t),t.message.type&&e.processPubNubMessage(t)},presence:function(t){if(console.log("PubNub presence event",t),"state-change"===t.action){var n=t.state;n.playerInfo.id!==e.playerInfo.id&&e.addPlayers(n)}},status:function(s){console.log("PubNub status event",s),"PNConnectedCategory"===s.category&&(console.log("Player is connected to PubNub game channel"),n.history({channel:e.gameChannel,count:10},(function(n,s){!e.isRejoiningGame&&s.messages.length>0?e.navigateToJoinGamePage("Das Spiel mit der ID ".concat(e.gameChannel," wurde bereits gestartet. Du kannst einem laufenden Spiel nicht beitreten!")):(r(),e.isRejoiningGame||(a(),t=setTimeout(r,3e3)))})))}};return n.addListener(s),n.subscribe({channels:[e.gameChannel],withPresence:!0}),function(){t&&clearTimeout(t),n.removeListener(s),n.unsubscribeAll()}})),null},Ze=m.a.memo(Xe),Ye=n(267),$e={publishKey:Ye.publishKey,subscribeKey:Ye.subscribeKey,uuid:void 0,ssl:!0},et="Du bist dem Spiel erfolgreich beigetreten. Sobald der Administrator des Spiels auf Starten klickt, beginnt die erste Runde.",tt=n(18),nt=n(30),at=function(e,t,n){if(e.id===n)return!1;if(e.isAdmin)return!0;var a=t.get(n);if(a&&a.isAdmin){var r=Object(d.cloneDeep)(t);return r.delete(n),Array.from(r).map((function(e){return e[1]})).sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}))[0].id===e.id}return!1},rt=function(e,t){var n=new Map;e.forEach((function(e,a){n.set(a,e.map((function(e){var n=[];return t.forEach((function(t){return n.push(e.get(t.id))})),n})))}));var a=[];return t.forEach((function(e){return a.push(n.get(e.id))})),a},st=function(e,t){var n=new Map;return t.forEach((function(a,r){var s=e[r].map((function(e){var n=new Map;return t.forEach((function(t,a){return n.set(t.id,e[a])})),n}));n.set(a.id,s)})),n},it=function(e,t){var n=[];return t.forEach((function(t){var a=e.get(t.id);n.push(a.map((function(e){return e.star})))})),n},ot=function(e){for(var t=[],n=1;n<=e;n++){var a=Object(nt.e)(n);a&&t.push(a)}return t},ct=function(e,t,n,a){a.forEach((function(e,a){var r=t.get(a);e.forEach((function(e,t){e.valid&&(e.valid=Object(_.i)(r[t])<n)}))})),Object(_.d)(e,a)},lt=function(e,t,n){t.forEach((function(t,a){var r=e[a];n.get(t.id).forEach((function(e,t){return e.star=r[t]}))}))},ut=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={a11yMessagePolite:"",allPlayers:new Map,currentPhase:L.f.waitingToStart,currentRound:1,currentRoundEvaluation:new Map,currentRoundInputs:[],gameConfig:null,gameRounds:[new Map],playersThatFinishedEvaluation:new Map,playersThatFinishedRound:new Map,showLetterAnimation:!1,showLoadingScreen:!0},e.pubNubClient=void 0,e.informScreenReaderUser=function(t){return e.setState({a11yMessagePolite:t})},e.sendPubNubMessage=function(t){e.pubNubClient.publish({channel:e.props.gameId,message:t,storeInHistory:!0,ttl:1},(function(e,t){return console.log("PubNub Publish:",e,t)}))},e.createCurrentPhaseElement=function(){switch(e.state.currentPhase){case L.f.waitingToStart:return Object(u.jsx)(Qe,{allPlayers:e.state.allPlayers,gameConfig:e.state.gameConfig,gameId:e.props.gameId,playerInfo:e.props.playerInfo,informScreenReaderUser:e.informScreenReaderUser,sendPubNubMessage:e.sendPubNubMessage});case L.f.fillOutTextfields:return Object(u.jsx)(ke,{currentRound:e.state.currentRound,gameConfig:e.state.gameConfig,gameRoundInputs:e.state.currentRoundInputs,updateCurrentRoundInputs:e.updateCurrentRoundInputs,finishRoundOnCountdownComplete:e.finishRoundOnCountdownComplete,finishRoundOnUserAction:e.finishRoundOnUserAction});case L.f.evaluateRound:return Object(u.jsx)(ge,{allPlayers:e.state.allPlayers,currentRound:e.state.currentRound,currentRoundEvaluation:e.state.currentRoundEvaluation,gameConfig:e.state.gameConfig,gameRounds:e.state.gameRounds,playerInfo:e.props.playerInfo,playersThatFinishedEvaluation:e.state.playersThatFinishedEvaluation,sendEvaluationFinishedMessage:e.sendEvaluationFinishedMessage,updateEvaluationOfPlayerInput:e.updateEvaluationOfPlayerInput,updateIsPlayerInputVeryCreativeStatus:e.updateIsPlayerInputVeryCreativeStatus});default:return null}},e.callbackWhenAnimationDone=function(){var t,n=null===(t=e.state.gameConfig)||void 0===t?void 0:t.letters[e.state.currentRound-1],a="Runde ".concat(e.state.currentRound,": Buchstabe (").concat(n,")");e.setState({a11yMessagePolite:a,showLetterAnimation:!1})},e.navigateToJoinGamePage=function(t){Object(nt.f)(),e.props.onResetAppState({joinGameErrorMessage:t}),e.props.history.push("/joingame")},e.addPlayers=function(){if(e.state.currentPhase===L.f.waitingToStart){for(var t=null,n=Object(d.cloneDeep)(e.state.allPlayers),a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];r.forEach((function(a){n.set(a.playerInfo.id,a.playerInfo),a.gameConfig&&!e.state.gameConfig&&(t=a.gameConfig)})),t?(Object(nt.i)(t),e.setState({a11yMessagePolite:et,allPlayers:n,gameConfig:t,showLoadingScreen:!1})):e.setState({allPlayers:n})}},e.processPubNubMessage=function(t){var n=t.message;switch(n.type){case a.startGame:e.startGame();break;case a.roundFinished:e.onRoundFinishedMessage(t.publisher);break;case a.currentRoundInputs:e.addPlayerInputForFinishedRound(t.publisher,n.payload);break;case a.evaluationOfPlayerInput:e.processEvaluationOfPlayerInput(t.publisher,n.payload);break;case a.isPlayerInputVeryCreative:e.processIsPlayerInputVeryCreativeStatus(n.payload);break;case a.evaluationFinished:e.countPlayerAsEvaluationFinished(t.publisher);break;case a.kickPlayer:e.removePlayerFromGame(n.payload);break;case a.requestGameData:at(e.props.playerInfo,e.state.allPlayers,t.publisher)&&(e.state.allPlayers.has(t.publisher)?e.sendDataForCurrentGame(t.publisher):e.sendKickPlayerMessage(t.publisher));break;case a.dataForCurrentGame:e.restoreDataForCurrentGame(n.payload)}},e.startGame=function(){var t=e.state.gameConfig,n=Object(_.e)(e.state.allPlayers,t.categories);e.setState({a11yMessagePolite:"Spiel beginnt. ".concat(e.state.currentRound,". Buchstabe wird ermittelt."),currentPhase:L.f.fillOutTextfields,currentRoundEvaluation:n,currentRoundInputs:Object(_.g)(t.categories.length),showLetterAnimation:!0})},e.updateCurrentRoundInputs=function(t){e.setState({currentRoundInputs:t})},e.finishRoundOnCountdownComplete=function(){e.setState({showLoadingScreen:!0}),e.props.playerInfo.isAdmin&&e.sendPubNubMessage({type:a.roundFinished})},e.finishRoundOnUserAction=function(){var t=Object(d.cloneDeep)(e.state.playersThatFinishedRound);t.set(e.props.playerInfo.id,!0),e.setState({playersThatFinishedRound:t,showLoadingScreen:!0}),e.sendPubNubMessage({type:a.roundFinished})},e.onRoundFinishedMessage=function(t){var n=e.state.gameConfig,a=e.state.allPlayers.get(t);if(n.endRoundMode===Pe.a.allPlayersSubmit){var r=Object(d.cloneDeep)(e.state.playersThatFinishedRound);if(r.set(t,!0),t===e.props.playerInfo.id)e.setState({playersThatFinishedRound:r}),e.stopRoundAndSendInputs();else{var s="".concat(null===a||void 0===a?void 0:a.name," hat Antworten abgeschickt.");e.setState({a11yMessagePolite:s,playersThatFinishedRound:r})}}else{var i=n.endRoundMode===Pe.a.countdownEnds?"Der Countdown ist abgelaufen. Die Auswertung von Runde ".concat(e.state.currentRound," beginnt."):"".concat(null===a||void 0===a?void 0:a.name," hat Runde ").concat(e.state.currentRound," beendet. Die Auswertung beginnt.");e.informScreenReaderUser(i),e.stopRoundAndSendInputs()}},e.stopRoundAndSendInputs=function(){var t=new Ae(Object(_.n)(e.state.currentRoundInputs));e.sendPubNubMessage(t.toPubNubMessage())},e.addPlayerInputForFinishedRound=function(t,n){var a=Object(d.cloneDeep)(e.state.gameRounds),r=e.state.currentRound-1;if(a[r].set(t,n),a[r].size===e.state.allPlayers.size){var s="Die ".concat(e.state.currentRound,". Runde ist zu Ende. Wertet nun die Antworten aus.");Object(_.d)(e.state.gameConfig.scoringOptions,a[r]),Object(nt.k)(e.state.currentRound,a[r]),e.setState({a11yMessagePolite:s,currentPhase:L.f.evaluateRound,gameRounds:a,showLoadingScreen:!1})}else e.setState({gameRounds:a})},e.getWaitingForPlayers=function(){var t=[];return Object(_.j)(e.state.allPlayers).forEach((function(n){e.state.playersThatFinishedRound.has(n.id)||t.push(n.name)})),t},e.updateEvaluationOfPlayerInput=function(t){var n=new Ne(t);e.sendPubNubMessage(n.toPubNubMessage())},e.processEvaluationOfPlayerInput=function(t,n){var a,r,s;if(e.state.allPlayers.has(t)){var i=n.categoryIndex,o=n.evaluatedPlayerId,c=n.markedAsValid,l=Object(d.cloneDeep)(e.state.currentRoundEvaluation),u=l.get(o);u[i].set(t,c);var h=Object(d.cloneDeep)(e.state.gameRounds),p=Object(_.i)(u[i])<Object(_.h)(e.state.allPlayers.size),f=h[e.state.currentRound-1],b=f.get(o)[i];b.valid=p,Object(_.c)(e.state.gameConfig.scoringOptions,f,i);var m=null===(a=e.state.allPlayers.get(t))||void 0===a?void 0:a.name,g=null===(r=e.state.allPlayers.get(o))||void 0===r?void 0:r.name,j=c?"akzeptiert":"abgelehnt",v=null===(s=e.state.gameConfig)||void 0===s?void 0:s.categories[i],y="".concat(m," hat Antwort ").concat(b.text," von ").concat(g," in Kategorie ").concat(v," ").concat(j,".");e.setState({a11yMessagePolite:y,currentRoundEvaluation:l,gameRounds:h})}},e.updateIsPlayerInputVeryCreativeStatus=function(t){var n=new Fe(t);e.sendPubNubMessage(n.toPubNubMessage())},e.processIsPlayerInputVeryCreativeStatus=function(t){var n,a,r=t.categoryIndex,s=t.evaluatedPlayerId,i=t.markedAsCreative,o=Object(d.cloneDeep)(e.state.gameRounds),c=o[e.state.currentRound-1].get(s)[r];c.star=i;var l=null===(n=e.state.allPlayers.get(s))||void 0===n?void 0:n.name,u=i?"bewertet":"abgelehnt",h=null===(a=e.state.gameConfig)||void 0===a?void 0:a.categories[r],p="Antwort ".concat(c.text," von ").concat(l," in Kategorie ").concat(h," wurde als besonders kreativ ").concat(u,".");e.setState({a11yMessagePolite:p,gameRounds:o})},e.sendEvaluationFinishedMessage=function(){return e.sendPubNubMessage({type:a.evaluationFinished})},e.countPlayerAsEvaluationFinished=function(t){var n=Object(d.cloneDeep)(e.state.playersThatFinishedEvaluation);if(n.set(t,!0),n.size===e.state.allPlayers.size)e.processEvaluationsAndStartNextRoundOrFinishGame();else{var a,r="".concat(null===(a=e.state.allPlayers.get(t))||void 0===a?void 0:a.name," hat die Auswertung der Antworten best\xe4tigt.");e.setState({a11yMessagePolite:r,playersThatFinishedEvaluation:n})}},e.processEvaluationsAndStartNextRoundOrFinishGame=function(){var t=e.state,n=t.allPlayers,a=t.currentRound,r=e.state.gameConfig,i=Object(d.cloneDeep)(e.state.gameRounds);if(Object(_.a)(r.scoringOptions,i[a-1]),a===r.numberOfRounds)Object(nt.f)(),e.props.onSetDataOfFinishedGame({allPlayers:n,gameConfig:r,gameRounds:i}),e.props.history.push("/results");else{Object(nt.k)(e.state.currentRound,i[a-1]);var o=a+1;e.setState({a11yMessagePolite:"Auswertung beendet. Buchstabe f\xfcr ".concat(o,". Runde wird ermittelt."),currentPhase:L.f.fillOutTextfields,currentRoundEvaluation:Object(_.e)(n,r.categories),currentRoundInputs:Object(_.g)(r.categories.length),currentRound:o,gameRounds:[].concat(Object(s.a)(i),[new Map]),playersThatFinishedEvaluation:new Map,playersThatFinishedRound:new Map,showLetterAnimation:!0})}},e.sendKickPlayerMessage=function(t){var n=new Me(t);e.sendPubNubMessage(n.toPubNubMessage())},e.removePlayerFromGame=function(t){if(e.props.playerInfo.id===t)return Object(nt.f)(),e.props.onResetAppState(),void e.props.history.push("/");if(e.state.allPlayers.has(t)){var n=Object(d.cloneDeep)(e.state.allPlayers);n.delete(t);var a=Object(d.cloneDeep)(e.state.currentRoundEvaluation);a.delete(t);var r=Object(d.cloneDeep)(e.state.gameRounds);r.forEach((function(e){return e.delete(t)}));var s=Object(d.cloneDeep)(e.state.playersThatFinishedEvaluation);s.delete(t),e.setState({allPlayers:n,currentRoundEvaluation:a,gameRounds:r,playersThatFinishedEvaluation:s}),e.state.currentPhase===L.f.evaluateRound&&s.size===n.size&&e.processEvaluationsAndStartNextRoundOrFinishGame()}},e.sendDataForCurrentGame=function(t){var n=e.state,a=n.allPlayers,r=n.currentPhase,s=n.currentRound,i=n.currentRoundEvaluation,o=n.gameRounds,c=Object(_.j)(a),l=r===L.f.evaluateRound?rt(i,c):[],u=r===L.f.evaluateRound?it(o[s-1],c):[],d=new _e({compressedGameRoundEvaluation:l,compressedMarkedAsCreativeFlags:u,currentPhase:r,currentRound:s,playersThatFinishedEvaluation:Object(Le.c)(e.state.playersThatFinishedEvaluation),requestingPlayerId:t,sortedPlayers:c});e.sendPubNubMessage(d.toPubNubMessage())},e.restoreDataForCurrentGame=function(t){if(e.props.playerInfo.id===t.requestingPlayerId){var n=Object(nt.c)(),a=t.currentPhase===L.f.evaluateRound?t.currentRound:t.currentRound-1,r=ot(a);if(n&&r.length===a){var s,i=new Map;if(t.sortedPlayers.forEach((function(e){return i.set(e.id,e)})),t.currentPhase===L.f.evaluateRound){var o=r[t.currentRound-1];s=st(t.compressedGameRoundEvaluation,t.sortedPlayers),ct(n.scoringOptions,s,Object(_.h)(i.size),o),lt(t.compressedMarkedAsCreativeFlags,t.sortedPlayers,o)}else r.push(new Map),s=Object(_.e)(i,n.categories);e.setState({allPlayers:i,currentPhase:t.currentPhase,currentRound:t.currentRound,currentRoundEvaluation:s,currentRoundInputs:Object(_.g)(n.categories.length),gameConfig:n,gameRounds:r,playersThatFinishedEvaluation:Object(Le.a)(t.playersThatFinishedEvaluation),showLoadingScreen:!1})}else console.log("Error: Can't restore game session because data is missing in local storage!"),e.navigateToJoinGamePage("Die R\xfcckkehr in das laufende Spiel ist nicht m\xf6glich, da die Daten nicht wiederhergestellt werden konnten!")}},e}return Object(o.a)(n,[{key:"render",value:function(){if(null===this.props.gameId||null===this.props.playerInfo)return null;this.pubNubClient||(this.pubNubClient=new p.a(Object(r.a)(Object(r.a)({},$e),{},{uuid:this.props.playerInfo.id})));var e=Object(u.jsx)(B,{letterToUnveil:this.state.gameConfig?this.state.gameConfig.letters[this.state.currentRound-1]:"",callbackWhenAnimationDone:this.callbackWhenAnimationDone}),t=this.state,n=t.allPlayers,a=t.currentPhase,s=t.gameConfig,i=t.showLetterAnimation,o=t.showLoadingScreen,c=Object(u.jsx)(G,{allPlayers:n,kickPlayer:this.sendKickPlayerMessage}),l=a===L.f.fillOutTextfields&&s&&s.endRoundMode===Pe.a.allPlayersSubmit&&this.state.playersThatFinishedRound.size!==n.size?Object(u.jsx)(U.a,{waitingForPlayers:this.getWaitingForPlayers()}):Object(u.jsx)(U.a,{});return Object(u.jsxs)(m.a.Fragment,{children:[Object(u.jsxs)(f.a,{client:this.pubNubClient,children:[Object(u.jsx)(Ze,{gameChannel:this.props.gameId,gameConfig:this.props.gameConfig,isRejoiningGame:this.props.isRejoiningGame,playerInfo:this.props.playerInfo,navigateToJoinGamePage:this.navigateToJoinGamePage,addPlayers:this.addPlayers,processPubNubMessage:this.processPubNubMessage}),i?e:null,o?l:null,o||i?null:Object(u.jsx)("div",{className:"main-content-wrapper",children:this.createCurrentPhaseElement()}),this.props.playerInfo.isAdmin&&this.state.allPlayers.size>1?c:null]}),Object(u.jsx)(g.b,{message:this.state.a11yMessagePolite,"aria-live":"polite",clearOnUnmount:"true"})]})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.gameConfig,n=e.gameId,r=e.isRejoiningGame,s=e.playerInfo;if(null!==n&&null!==s)if(r)this.sendPubNubMessage({type:a.requestGameData});else{var i=new Map;i.set(s.id,s),s.isAdmin?(Object(nt.i)(t),this.setState({a11yMessagePolite:"Du hast das Spiel erfolgreich erstellt. Teile die Spiel-ID beziehungsweise den Link zum Spiel, damit Mitspieler beitreten k\xf6nnen.",allPlayers:i,gameConfig:t,showLoadingScreen:!1})):this.setState({allPlayers:i})}else this.props.history.push("/")}}]),n}(b.Component);t.default=Object(j.b)((function(e){return{gameConfig:e.gameConfig,gameId:e.gameId,isRejoiningGame:e.isRejoiningGame,playerInfo:e.playerInfo}}),(function(e){return{onSetDataOfFinishedGame:function(t){return e(Object(tt.l)(t))},onResetAppState:function(t){return e(Object(tt.i)(t))}}}))(ut)}}]);
//# sourceMappingURL=9.8a6060f5.chunk.js.map
(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[13],{180:function(t,e,n){"use strict";n.d(e,"l",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"j",(function(){return j})),n.d(e,"g",(function(){return f})),n.d(e,"n",(function(){return b})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"m",(function(){return y})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return C})),n.d(e,"f",(function(){return k}));var r=n(16),a=n(181),c=n(188),o=n(202),i=n.n(o),s=n(76),l=n(51),u=function(t,e){if(t>e.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var n=[],r=Object(a.a)(e),c=function(t){var e=i()(r);n.push(e),r=r.filter((function(t){return t!==e}))},o=0;o<t;o++)c();return n},d=function(t,e,n){for(var r=Object(a.a)(n),c=t-n.length,o=e.filter((function(t){return!n.includes(t)})),s=function(t){var e=i()(o);r.push(e),o=o.filter((function(t){return t!==e}))},l=0;l<c;l++)s();return r},j=function(t){return Array.from(t).map((function(t){return t[1]})).sort((function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0}))},f=function(t){return Object(l.e)(t,{points:s.s,star:!1,text:"",valid:!0})},b=function(t){return t.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{text:t.text.trim(),valid:!!t.text})}))},h=function(t,e){var n=new Map;return t.forEach((function(r){var a=[];e.forEach((function(){var e=new Map;t.forEach((function(t){e.set(t.id,!0)})),a.push(e)})),n.set(r.id,a)})),n},p=function(t,e){if(t.checkForDuplicates||t.onlyPlayerWithValidAnswer)for(var n=e.keys().next().value,r=e.get(n),a=0;a<r.length;a++)m(t,e,a)},m=function(t,e,n){(t.checkForDuplicates||t.onlyPlayerWithValidAnswer)&&Array.from(e.keys()).forEach((function(r){var a=e.get(r);a[n].valid&&(t.onlyPlayerWithValidAnswer&&x(r,e,n)?a[n].points=s.n:t.checkForDuplicates&&O(r,e,n)?a[n].points=s.o:a[n].points=s.s)}))},x=function(t,e,n){var r=Array.from(e.keys()).filter((function(e){return e!==t})),a=!0;return r.forEach((function(t){return a=a&&!e.get(t)[n].valid})),a},O=function(t,e,n){var r=Array.from(e.keys()).filter((function(e){return e!==t})),a=e.get(t)[n].text.toLowerCase().replace(/[^0-9a-z]/gi,"");return Object(c.some)(r,(function(t){var r=e.get(t)[n];return r.valid&&a===r.text.toLowerCase().replace(/[^0-9a-z]/gi,"")}))},g=function(t){return t<=3?1:2},v=function(t){var e=0;return t.forEach((function(t){return e=t?e:e+1})),e},y=function(t,e){var n=new Map;return t.forEach((function(t,r){if(!t){var a=e.get(r);a&&n.set(r,a)}})),j(n)},w=function(t,e){e.forEach((function(e){e.forEach((function(e){e.valid?t.creativeAnswersExtraPoints&&e.star&&(e.points=e.points+s.d):e.points=0}))}))},C=function(t,e){var n=[],r={};return t.forEach((function(t,e){return r[e]={playerName:t.name,points:0}})),e.forEach((function(t){t.forEach((function(t,e){var n=t.reduce((function(t,e){return t+e.points}),0);r[e].points+=n}))})),Object.keys(r).forEach((function(t){return n.push(r[t])})),n.sort((function(t,e){return e.points-t.points}))},k=function(t,e,n){var r=[];return n.forEach((function(n){n.forEach((function(n,a){var c=t.get(a);n.forEach((function(t,n){t.valid&&t.star&&r.push({category:e.categories[n],playerName:c.name,text:t.text})}))}))})),r}},182:function(t,e,n){"use strict";var r=n(2),a=n(167),c=n(80),o=n.n(c),i=(n(0),n(183)),s=n.n(i);e.a=function(t){return Object(r.jsx)("div",{className:s.a.button_wrapper,children:Object(r.jsx)(a.a,{type:"button",color:"default",variant:"contained",size:"large",startIcon:Object(r.jsx)(o.a,{}),onClick:t.onReturnToDashboard,children:"Dashboard"})})}},183:function(t,e,n){t.exports={button_wrapper:"ToDashboardButton_button_wrapper__1EtAB"}},204:function(t,e,n){"use strict";var r=n(2),a=n(0),c=n.n(a),o=n(76);e.a=function(t){var e=t.rules;return e.checkForDuplicates||e.onlyPlayerWithValidAnswer||e.creativeAnswersExtraPoints?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("p",{className:"bold-text",children:"Regeln f\xfcr die Punktevergabe:"}),Object(r.jsxs)("ul",{children:[e.checkForDuplicates?Object(r.jsx)("li",{children:o.e.checkForDuplicates}):null,e.onlyPlayerWithValidAnswer?Object(r.jsx)("li",{children:o.e.onlyPlayerWithValidAnswer}):null,e.creativeAnswersExtraPoints?Object(r.jsx)("li",{children:o.e.creativeAnswersExtraPoints}):null]})]}):null}},261:function(t,e,n){t.exports={button_wrapper:"GameResults_button_wrapper__3kHLB"}},312:function(t,e,n){"use strict";n.r(e);var r=n(39),a=n(40),c=n(44),o=n(43),i=n(2),s=n(130),l=n(0),u=n.n(l),d=n(28),j=n(181),f=n(170),b=n(132),h=n(294),p=n(295),m=n(128),x=n(203),O=n.n(x),g=n(259),v=n.n(g),y=n(51),w=Object(m.a)({listItem:{flex:"0 0 auto",justifyContent:"center",margin:0},listItemText:{flex:"0 0 auto",minWidth:"6rem"}}),C=function(t){var e=w(),n=Math.max.apply(Math,Object(j.a)(t.gameResults.map((function(t){return t.points}))));return Object(i.jsx)(f.a,{children:t.gameResults.map((function(t,r){return Object(i.jsxs)(b.a,{className:e.listItem,children:[Object(i.jsx)(h.a,{children:(a=t.points===n,a?Object(i.jsx)(v.a,{color:"primary",fontSize:"large"}):Object(i.jsx)(O.a,{fontSize:"large"}))}),Object(i.jsx)(p.a,{className:e.listItemText,primary:t.playerName,secondary:"".concat(t.points," ").concat(Object(y.f)(t.points,"Punkt","Punkte"))})]},"results-for-player-"+r);var a}))})},k=n(184),A=n(16),R=n(262),N=n(315),D=n(286),E=n(288),P=n(167),F=n(304),S=n(305),I=n(310),W=n(260),_=n.n(W),z=n(320),L=n(165),B=n(6),M=n(177),T=n(301),V=n(303),H=n(298),G=n(300),J=n(302),K=n(299),q=n(190),Q=n.n(q),U=Object(B.a)((function(t){return Object(M.a)({head:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(255, 255, 255, 0.5)"}},body:{fontSize:14,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(224, 224, 224, 1)"}}})}))(H.a),X=Object(B.a)((function(t){return Object(M.a)({root:{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}})}))(K.a),Y=Object(m.a)({tableContainer:{borderRadius:0},table:{maxWidth:"80vw"},firstColumn:{fontWeight:"bold"},invalidInput:{color:"crimson",textDecoration:"line-through"},creativeAnswerStarIcon:{paddingRight:"0.2rem",fontSize:"1rem",verticalAlign:"text-top"}}),Z=function(t){var e=Y(),n=t.gameConfig,r=t.round,a=t.sortedPlayers,c=function(t){return Object(i.jsxs)(u.a.Fragment,{children:[Object(i.jsx)(z.a,{title:"Als besonders kreativ markiert",placement:"bottom",children:Object(i.jsx)(Q.a,{className:e.creativeAnswerStarIcon,color:"secondary"})}),Object(i.jsxs)("span",{children:[t.text," (+",t.points,")"]})]})};return Object(i.jsx)(G.a,{component:L.a,className:e.tableContainer,children:Object(i.jsxs)(T.a,{className:e.table,"aria-label":"Die Spielrunde im Detail",children:[Object(i.jsx)(J.a,{children:Object(i.jsxs)(K.a,{children:[Object(i.jsx)(U,{children:"Kategorie"}),a.map((function(t,e){return Object(i.jsx)(U,{align:"right",children:t.name},"slf-table-head-cell-for-player-".concat(e))}))]})}),Object(i.jsx)(V.a,{children:n.categories.map((function(t,n){return Object(i.jsxs)(X,{children:[Object(i.jsx)(U,{component:"th",scope:"row",className:e.firstColumn,children:t}),a.map((function(t,a){var o=r.get(t.id)[n];return Object(i.jsxs)(U,{className:o.valid?"":e.invalidInput,align:"right",children:[o.valid&&o.star?c(o):null,o.valid&&!o.star?"".concat(o.text," (+").concat(o.points,")"):null,o.valid?null:o.text]},"slf-table-cell-for-category-".concat(n,"-player-").concat(a))}))]},"slf-table-row-for-category-".concat(n))}))})]})})},$=function(t){var e=t.children,n=t.value,r=t.index,a=Object(R.a)(t,["children","value","index"]);return Object(i.jsx)("div",Object(A.a)(Object(A.a)({role:"tabpanel",hidden:n!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a),{},{children:n===r&&e}))},tt=Object(m.a)((function(t){return{root:{flexGrow:1,width:"100%",padding:"0 !important",backgroundColor:t.palette.background.paper}}})),et=function(t){var e=tt(),n=t.gameConfig,r=t.open,a=t.rounds,c=t.sortedPlayers,o=t.onClose,s=u.a.useState(0),l=Object(k.a)(s,2),d=l[0],j=l[1];return Object(i.jsxs)(N.a,{onClose:o,open:r,maxWidth:"lg",children:[Object(i.jsxs)(D.a,{className:e.root,children:[Object(i.jsx)(F.a,{position:"static",color:"default",children:Object(i.jsx)(I.a,{value:d,onChange:function(t,e){return j(e)},indicatorColor:"secondary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:a.map((function(t,e){return Object(i.jsx)(S.a,Object(A.a)({label:"Runde ".concat(e+1,": ").concat(n.letters[e])},function(t){return{id:"scrollable-auto-tab-".concat(t),"aria-controls":"scrollable-auto-tabpanel-".concat(t)}}(e)),"slf-game-rounds-overview-tab-".concat(e))}))})}),a.map((function(t,e){return Object(i.jsx)($,{value:d,index:e,children:Object(i.jsx)(Z,{gameConfig:n,round:t,sortedPlayers:c})},"slf-game-rounds-overview-tab-panel-".concat(e))}))]}),Object(i.jsx)(E.a,{children:Object(i.jsx)(P.a,{type:"button",onClick:o,children:"Schlie\xdfen"})})]})},nt=function(t){var e=Object(l.useState)(!1),n=Object(k.a)(e,2),r=n[0],a=n[1];return Object(i.jsxs)(u.a.Fragment,{children:[Object(i.jsx)(P.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(i.jsx)(_.a,{}),onClick:function(){return a(!0)},children:"Alle Runden im Detail"}),Object(i.jsx)(et,{gameConfig:t.gameConfig,open:r,rounds:t.rounds,sortedPlayers:t.sortedPlayers,onClose:function(){return a(!1)}})]})},rt=n(287),at=n(306),ct=n(318),ot=Object(m.a)({list:{paddingBottom:0},listItem:{padding:"0.25rem 0"},listItemAvatar:{marginRight:"1rem"}}),it=function(t){var e=ot(),n=t.hallOfFameData,r=t.open,a=t.onClose;return Object(i.jsxs)(N.a,{onClose:a,open:r,maxWidth:"lg",children:[Object(i.jsxs)(D.a,{children:[Object(i.jsx)(rt.a,{children:"Hall of Fame"}),Object(i.jsx)(s.a,{}),Object(i.jsx)(f.a,{className:e.list,children:n.map((function(t,n){return Object(i.jsxs)(b.a,{className:e.listItem,children:[Object(i.jsx)(at.a,{className:e.listItemAvatar,children:Object(i.jsx)(ct.a,{icon:Object(i.jsx)(O.a,{}),color:"primary",label:t.playerName})}),Object(i.jsx)(p.a,{primary:t.text,secondary:t.category})]},"slf-hall-of-fame-item-".concat(n))}))})]}),Object(i.jsx)(E.a,{children:Object(i.jsx)(P.a,{type:"button",onClick:a,children:"Schlie\xdfen"})})]})},st=function(t){var e=Object(l.useState)(!1),n=Object(k.a)(e,2),r=n[0],a=n[1];return Object(i.jsxs)(u.a.Fragment,{children:[Object(i.jsx)(P.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(i.jsx)(Q.a,{}),disabled:0===t.hallOfFameData.length,onClick:function(){return a(!0)},children:"Hall of Fame"}),Object(i.jsx)(it,{hallOfFameData:t.hallOfFameData,open:r,onClose:function(){return a(!1)}})]})},lt=n(204),ut=n(79),dt=n(182),jt=n(20),ft=n(180),bt=n(261),ht=n.n(bt),pt=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={gameConfig:null,gameResults:[],gameRounds:[],hallOfFameData:[],sortedPlayers:[]},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.gameConfig,r=e.gameResults,a=e.gameRounds,c=e.hallOfFameData,o=e.sortedPlayers;return null===n?null:Object(i.jsxs)("div",{className:"main-content-wrapper",children:[Object(i.jsxs)("div",{className:"material-card-style",children:[Object(i.jsx)(ut.a,{text:"Ergebnis"}),Object(i.jsx)(C,{gameResults:r}),Object(i.jsx)(s.a,{}),Object(i.jsxs)("div",{className:ht.a.button_wrapper,children:[Object(i.jsx)(nt,{gameConfig:n,rounds:a,sortedPlayers:o}),Object(i.jsx)(st,{hallOfFameData:c})]})]}),Object(i.jsxs)("div",{className:"material-card-style",children:[Object(i.jsx)(ut.a,{text:"Spieleinstellungen"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:"bold-text",children:"Runden:"})," ",n.numberOfRounds]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:"bold-text",children:"Buchstaben:"})," ",n.letters.join(", ")]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:"bold-text",children:"Kategorien:"})," ",n.categories.join(", ")]}),Object(i.jsx)(lt.a,{rules:n.scoringOptions})]}),Object(i.jsx)(dt.a,{onReturnToDashboard:function(){return t.props.history.push("/")}})]})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.allPlayers,n=t.gameConfig,r=t.gameRounds;null===e||null===n||null===r?this.props.history.push("/"):(this.setState({gameConfig:n,gameResults:Object(ft.b)(e,r),gameRounds:r,hallOfFameData:Object(ft.f)(e,n,r),sortedPlayers:Object(ft.j)(e)}),this.props.onResetAppState())}}]),n}(l.Component);e.default=Object(d.b)((function(t){return t}),(function(t){return{onResetAppState:function(){return t(Object(jt.g)())}}}))(pt)}}]);
//# sourceMappingURL=13.e72ad9d9.chunk.js.map
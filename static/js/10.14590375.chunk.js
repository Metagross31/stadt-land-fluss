(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[10],{181:function(e,t,n){"use strict";var a=n(2),r=n(168),c=n(79),s=n.n(c),o=(n(0),n(182)),i=n.n(o);t.a=function(e){return Object(a.jsx)("div",{className:i.a.button_wrapper,children:Object(a.jsx)(r.a,{type:"button",color:"default",variant:"contained",size:"large",startIcon:Object(a.jsx)(s.a,{}),onClick:e.onReturnToDashboard,children:"Dashboard"})})}},182:function(e,t,n){e.exports={button_wrapper:"ToDashboardButton_button_wrapper__1EtAB"}},184:function(e,t,n){"use strict";n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C}));var a=n(12),r=n(185),c=n(187),s=n(205),o=n.n(s),i=n(77),l=n(50),u=function(e,t){if(e>t.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var n=[],a=Object(r.a)(t),c=function(e){var t=o()(a);n.push(t),a=a.filter((function(e){return e!==t}))},s=0;s<e;s++)c();return n},d=function(e,t,n){for(var a=Object(r.a)(n),c=e-n.length,s=t.filter((function(e){return!n.includes(e)})),i=function(e){var t=o()(s);a.push(t),s=s.filter((function(e){return e!==t}))},l=0;l<c;l++)i();return a},j=function(e){return Array.from(e).map((function(e){return e[1]})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},f=function(e){return Object(l.e)(e,{points:i.s,star:!1,text:"",valid:!0})},b=function(e){return e.map((function(e){var t=e.text.trim();return Object(a.a)(Object(a.a)({},e),{},{text:t,valid:""!==t})}))},h=function(e,t){var n=new Map;return e.forEach((function(a){var r=[];t.forEach((function(){var t=new Map;e.forEach((function(e){t.set(e.id,!0)})),r.push(t)})),n.set(a.id,r)})),n},p=function(e,t,n){if(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)for(var a=t.keys().next().value,r=t.get(a),c=0;c<r.length;c++)m(e,t,c,n.get(c))},m=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)&&Array.from(t.keys()).forEach((function(r){var c=t.get(r);if(c[n].valid)if(e.onlyPlayerWithValidAnswer&&O(r,t,n))c[n].points=i.n;else{var s=e.checkForDuplicates&&x(r,t,n,a);c[n].points=s?i.o:i.s}}))},O=function(e,t,n){var a=Array.from(t.keys()).filter((function(t){return t!==e})),r=!0;return a.forEach((function(e){return r=r&&!t.get(e)[n].valid})),r},x=function(e,t,n,a){var r=Object(l.f)(t.get(e)[n].text),s=Array.from(t.keys()).filter((function(t){return t!==e}));return a.includes(r)||Object(c.some)(s,(function(e){var a=t.get(e)[n];return a.valid&&r===Object(l.f)(a.text)}))},g=function(e){return e<=3?1:2},v=function(e){var t=0;return e.forEach((function(e){return t=e?t:t+1})),t},y=function(e,t){var n=new Map;return e.forEach((function(e,a){if(!e){var r=t.get(a);r&&n.set(a,r)}})),j(n)},_=function(e,t){t.forEach((function(t){t.forEach((function(t){t.valid?e.creativeAnswersExtraPoints&&t.star&&(t.points=t.points+i.d):t.points=0}))}))},w=function(e,t){var n={};e.forEach((function(e,t){return n[t]={name:e.name,points:0}})),t.forEach((function(e){e.forEach((function(e,t){return n[t].points+=e.reduce((function(e,t){return e+t.points}),0)}))}));var a=[],s=new Map;Object.keys(n).forEach((function(e){var t=n[e],c=t.name,o=t.points;a.push(o);var i=s.get(o)||[];s.set(o,[].concat(Object(r.a)(i),[c]))}));var o=[];return Object(c.uniq)(a).sort((function(e,t){return t-e})).forEach((function(e){return o.push({playerNames:s.get(e).sort(),points:e})})),o},C=function(e,t,n){var a=[];return n.forEach((function(n){n.forEach((function(n,r){var c=e.get(r);n.forEach((function(e,n){e.valid&&e.star&&a.push({category:t.categories[n],playerName:c.name,text:e.text})}))}))})),a}},207:function(e,t,n){"use strict";var a=n(2),r=n(0),c=n.n(r),s=n(77),o=n(208),i=n.n(o);t.a=function(e){var t=e.rules;return t.checkForDuplicates||t.onlyPlayerWithValidAnswer||t.creativeAnswersExtraPoints?Object(a.jsxs)(c.a.Fragment,{children:[e.isForGameResultsPage?Object(a.jsx)("h3",{className:i.a.heading,children:"Regeln f\xfcr die Punktevergabe"}):null,e.isForGameResultsPage?null:Object(a.jsx)("h4",{className:i.a.heading,children:"Regeln f\xfcr die Punktevergabe"}),Object(a.jsxs)("ul",{className:i.a.list,children:[t.checkForDuplicates?Object(a.jsx)("li",{children:s.e.checkForDuplicates}):null,t.onlyPlayerWithValidAnswer?Object(a.jsx)("li",{children:s.e.onlyPlayerWithValidAnswer}):null,t.creativeAnswersExtraPoints?Object(a.jsx)("li",{children:s.e.creativeAnswersExtraPoints}):null]})]}):null}},208:function(e,t,n){e.exports={heading:"ScoringOptionsList_heading__24MfE",list:"ScoringOptionsList_list__2_T80"}},272:function(e,t,n){},273:function(e,t,n){e.exports={game_results_item:"GameResultsList_game_results_item__1ajwl",icon:"GameResultsList_icon__6EkiK",first_place_trophy:"GameResultsList_first_place_trophy__2n6pP",second_place_trophy:"GameResultsList_second_place_trophy__-hoQi",third_place_trophy:"GameResultsList_third_place_trophy__wUNsy",first_place_text:"GameResultsList_first_place_text__QYpPI",other_place_text:"GameResultsList_other_place_text__2x_QO"}},275:function(e,t,n){e.exports={button_wrapper:"GameResults_button_wrapper__3kHLB"}},325:function(e,t,n){"use strict";n.r(t);var a=n(38),r=n(39),c=n(41),s=n(40),o=n(2),i=n(132),l=n(0),u=n.n(l),d=n(27),j=n(186),f=(n(272),function(e){var t=Object(l.useState)(!0),n=Object(j.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)(!1),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(l.useEffect)((function(){var t=[setTimeout((function(){return u(!0)}),e.duration>1e3?e.duration-1e3:0),setTimeout((function(){return r(!1)}),e.duration)];return function(){return t.forEach((function(e){return clearTimeout(e)}))}}),[]),a?Object(o.jsxs)("div",{className:"slf-fireworks-container"+(i?" fade-out":""),children:[Object(o.jsx)("div",{className:"slf-fireworks-before"}),Object(o.jsx)("div",{className:"slf-fireworks-after"})]}):null}),b=u.a.memo(f),h=n(173),p=n(134),m=n(311),O=n(312),x=n(206),g=n.n(x),v=n(50),y=n(273),_=n.n(y),w=function(e){var t=function(e){var t="/stadt-land-fluss/assets";switch(e){case 1:return Object(o.jsx)("img",{src:"".concat(t,"/first_place_trophy.svg"),className:_.a.first_place_trophy,alt:"1. Platz"});case 2:return Object(o.jsx)("img",{src:"".concat(t,"/second_place_trophy.svg"),className:_.a.second_place_trophy,alt:"2. Platz"});case 3:return Object(o.jsx)("img",{src:"".concat(t,"/third_place_trophy.svg"),className:_.a.third_place_trophy,alt:"3. Platz"});default:return Object(o.jsx)(g.a,{fontSize:"large"})}};return Object(o.jsx)(h.a,{component:"ol",children:e.gameResults.map((function(e,n){return Object(o.jsxs)(p.a,{className:_.a.game_results_item,children:[Object(o.jsx)(m.a,{className:_.a.icon,children:t(n+1)}),Object(o.jsx)(O.a,{className:0===n?_.a.first_place_text:_.a.other_place_text,primary:Object(v.g)(e.playerNames,"und"),secondary:"".concat(e.points," Punkte")})]},"results-for-player-"+n)}))})},C=n(12),R=n(276),N=n(130),k=n(329),P=n(303),E=n(305),A=n(168),D=n(319),F=n(320),S=n(324),L=n(274),G=n.n(L),I=n(334),W=n(172),z=n(7),T=n(179),B=n(316),M=n(318),V=n(313),H=n(315),K=n(317),Q=n(314),q=n(192),J=n.n(q),U=Object(z.a)((function(e){return Object(T.a)({head:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(255, 255, 255, 0.5)"}},body:{fontSize:14,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(224, 224, 224, 1)"}}})}))(V.a),Y=Object(z.a)((function(e){return Object(T.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Q.a),X=Object(N.a)({tableContainer:{borderRadius:0},table:{maxWidth:"80vw"},firstColumn:{fontWeight:"bold"},invalidInput:{color:"crimson",textDecoration:"line-through"},creativeAnswerStarIcon:{paddingRight:"0.2rem",fontSize:"1rem",verticalAlign:"text-top"}}),Z=function(e){var t=X(),n=e.gameConfig,a=e.gameRound,r=e.roundNo,c=e.sortedPlayers,s=function(e){return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)(I.a,{title:"Als besonders kreativ markiert",placement:"bottom",children:Object(o.jsx)(J.a,{className:t.creativeAnswerStarIcon,color:"secondary"})}),Object(o.jsxs)("span",{children:[e.text," (+",e.points,")"]})]})};return Object(o.jsx)(H.a,{component:W.a,className:t.tableContainer,children:Object(o.jsxs)(B.a,{className:t.table,"aria-label":"Runde ".concat(r," im Detail"),children:[Object(o.jsx)(K.a,{children:Object(o.jsxs)(Q.a,{children:[Object(o.jsx)(U,{children:"Kategorie"}),c.map((function(e,t){return Object(o.jsx)(U,{align:"right",children:e.name},"slf-table-head-cell-for-player-".concat(t))}))]})}),Object(o.jsx)(M.a,{children:n.categories.map((function(e,n){return Object(o.jsxs)(Y,{children:[Object(o.jsx)(U,{component:"th",scope:"row",className:t.firstColumn,children:e}),c.map((function(e,r){var c=a.get(e.id)[n];return Object(o.jsxs)(U,{className:c.valid?"":t.invalidInput,align:"right",children:[c.valid&&c.star?s(c):null,c.valid&&!c.star?"".concat(c.text," (+").concat(c.points,")"):null,!c.valid&&c.text?c.text:null,c.valid||c.text?null:Object(o.jsx)("span",{className:"sr-only",children:"Leere Antwort"})]},"slf-table-cell-for-category-".concat(n,"-player-").concat(r))}))]},"slf-table-row-for-category-".concat(n))}))})]})})},$=function(e){var t=e.children,n=e.value,a=e.index,r=Object(R.a)(e,["children","value","index"]);return Object(o.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:n!==a,id:"scrollable-auto-tabpanel-".concat(a),"aria-labelledby":"scrollable-auto-tab-".concat(a)},r),{},{children:n===a&&t}))},ee=Object(N.a)((function(e){return{root:{flexGrow:1,width:"100%",padding:"0 !important",backgroundColor:e.palette.background.paper}}})),te=function(e){var t=ee(),n=e.gameConfig,a=e.open,r=e.rounds,c=e.sortedPlayers,s=e.onClose,i=u.a.useState(0),l=Object(j.a)(i,2),d=l[0],f=l[1];return Object(o.jsxs)(k.a,{onClose:s,open:a,maxWidth:"lg",children:[Object(o.jsxs)(P.a,{className:t.root,children:[Object(o.jsx)(D.a,{position:"static",color:"default",children:Object(o.jsx)(S.a,{value:d,onChange:function(e,t){return f(t)},indicatorColor:"secondary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:r.map((function(e,t){return Object(o.jsx)(F.a,Object(C.a)({label:"Runde ".concat(t+1,": ").concat(n.letters[t])},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)),"slf-game-rounds-overview-tab-".concat(t))}))})}),r.map((function(e,t){return Object(o.jsx)($,{value:d,index:t,children:Object(o.jsx)(Z,{gameConfig:n,gameRound:e,roundNo:t+1,sortedPlayers:c})},"slf-game-rounds-overview-tab-panel-".concat(t))}))]}),Object(o.jsx)(E.a,{children:Object(o.jsx)(A.a,{type:"button",onClick:s,children:"Schlie\xdfen"})})]})},ne=function(e){var t=Object(l.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)(A.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(o.jsx)(G.a,{}),onClick:function(){return r(!0)},children:"Alle Runden im Detail"}),Object(o.jsx)(te,{gameConfig:e.gameConfig,open:a,rounds:e.rounds,sortedPlayers:e.sortedPlayers,onClose:function(){return r(!1)}})]})},ae=n(304),re=n(321),ce=n(332),se=Object(N.a)({list:{paddingBottom:0},listItem:{padding:"0.25rem 0"},listItemAvatar:{marginRight:"1rem"}}),oe=function(e){var t=se(),n=e.hallOfFameData,a=e.open,r=e.onClose;return Object(o.jsxs)(k.a,{onClose:r,open:a,maxWidth:"lg",children:[Object(o.jsxs)(P.a,{children:[Object(o.jsx)(ae.a,{children:"Hall of Fame"}),Object(o.jsx)(i.a,{}),Object(o.jsx)(h.a,{className:t.list,children:n.map((function(e,n){return Object(o.jsxs)(p.a,{className:t.listItem,children:[Object(o.jsx)(re.a,{className:t.listItemAvatar,children:Object(o.jsx)(ce.a,{icon:Object(o.jsx)(g.a,{}),color:"primary",label:e.playerName})}),Object(o.jsx)(O.a,{primary:e.text,secondary:e.category})]},"slf-hall-of-fame-item-".concat(n))}))})]}),Object(o.jsx)(E.a,{children:Object(o.jsx)(A.a,{type:"button",onClick:r,children:"Schlie\xdfen"})})]})},ie=function(e){var t=Object(l.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsxs)(A.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(o.jsx)(J.a,{}),disabled:0===e.hallOfFameData.length,onClick:function(){return r(!0)},children:[Object(o.jsx)("span",{lang:"en",children:"Hall of Fame"}),Object(o.jsx)("span",{className:"sr-only",children:"(Liste der besonders kreativen Antworten)"})]}),Object(o.jsx)(oe,{hallOfFameData:e.hallOfFameData,open:a,onClose:function(){return r(!1)}})]})},le=n(207),ue=n(78),de=n(181),je=n(17),fe=n(184),be=n(275),he=n.n(be),pe=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={gameConfig:null,gameResults:[],gameRounds:[],hallOfFameData:[],sortedPlayers:[]},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;if(null===this.state.gameConfig)return null;var t=this.state,n=t.gameConfig,a=t.gameResults,r=t.gameRounds,c=t.hallOfFameData,s=t.sortedPlayers,l=Object(o.jsxs)("div",{className:"material-card-style",children:[Object(o.jsx)(ue.a,{text:"Ergebnis"}),Object(o.jsx)("p",{className:"sr-only",role:"alert",children:"Das Spiel ist zu Ende. Die Ergebnisse werden angezeigt."}),Object(o.jsx)(w,{gameResults:a}),Object(o.jsx)(i.a,{}),Object(o.jsxs)("div",{className:he.a.button_wrapper,children:[Object(o.jsx)(ne,{gameConfig:n,rounds:r,sortedPlayers:s}),Object(o.jsx)(ie,{hallOfFameData:c})]})]}),d=Object(o.jsxs)("div",{className:"material-card-style",children:[Object(o.jsx)(ue.a,{text:"Spieleinstellungen"}),Object(o.jsxs)("div",{className:"game-settings",children:[Object(o.jsx)("h4",{children:"Runden"}),Object(o.jsx)("p",{children:n.numberOfRounds}),Object(o.jsx)("h4",{children:"Buchstaben"}),Object(o.jsx)("p",{children:n.letters.join(", ")}),Object(o.jsx)("h4",{children:"Kategorien"}),Object(o.jsx)("p",{children:n.categories.join(", ")})]}),Object(o.jsx)(le.a,{isForGameResultsPage:!0,rules:n.scoringOptions})]});return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsxs)("div",{className:"main-content-wrapper",children:[l,d,Object(o.jsx)(de.a,{onReturnToDashboard:function(){return e.props.history.push("/")}})]}),Object(o.jsx)(b,{duration:6e3})]})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.allPlayers,n=e.gameConfig,a=e.gameRounds;null===t||null===n||null===a?this.props.history.push("/"):(this.setState({gameConfig:n,gameResults:Object(fe.b)(t,a),gameRounds:a,hallOfFameData:Object(fe.f)(t,n,a),sortedPlayers:Object(fe.j)(t)}),this.props.onResetAppState())}}]),n}(l.Component);t.default=Object(d.b)((function(e){return e}),(function(e){return{onResetAppState:function(){return e(Object(je.i)())}}}))(pe)}}]);
//# sourceMappingURL=10.14590375.chunk.js.map